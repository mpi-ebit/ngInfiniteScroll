(function(){var n;n=angular.module("infinite-scroll",[]);n.value("THROTTLE_MILLISECONDS",null);n.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(n,t,i,r){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(u,f,e){var v,c,o,p,w,b,k,s,h,d,l,g,nt,y,rt,a,tt,it;return it=angular.element(t),nt=null,y=null,c=null,o=null,d=!0,tt=!1,a=null,h=function(n){return n=n[0]||n,isNaN(n.offsetHeight)?n.document.documentElement.clientHeight:n.offsetHeight},l=function(n){if(n[0].getBoundingClientRect&&!n.css("none"))return n[0].getBoundingClientRect().top+g(n)},g=function(n){return n=n[0]||n,isNaN(window.pageYOffset)?n.document.documentElement.scrollTop:n.ownerDocument.defaultView.pageYOffset},s=function(){var i,r,t,e,s;if(o===it?(i=h(o)+g(o[0].document.documentElement),t=l(f)+h(f)):(i=h(o),r=0,l(o)!==void 0&&(r=l(o)),t=l(f)-r+h(f)),tt&&(t=h((f[0].ownerDocument||f[0].document).documentElement)),e=t-i,s=e<=h(o)*nt+1,s){if(c=!0,y)return u.$$phase||n.$$phase?u.infiniteScroll():u.$apply(u.infiniteScroll)}else return c=!1},rt=function(n,t){var f,u,r;return r=null,u=0,f=function(){return u=(new Date).getTime(),i.cancel(r),r=null,n.call(),null},function(){var e,o;return(e=(new Date).getTime(),o=t-(e-u),o<=0)?(clearTimeout(r),i.cancel(r),r=null,u=e,n.call()):r?void 0:r=i(f,o,1)}},r!=null&&(s=rt(s,r)),u.$on("$destroy",function(){return/iPad|iPhone|iPod|Mac/.test(navigator.platform)?o.unbind("scroll touchmove",s):o.unbind("scroll",s),a!=null?(a(),a=null):void 0}),b=function(n){return nt=parseFloat(n)||0},u.$watch("infiniteScrollDistance",b),b(u.infiniteScrollDistance),w=function(n){return y=!n,y&&c?(c=!1,s()):void 0},u.$watch("infiniteScrollDisabled",w),w(u.infiniteScrollDisabled),k=function(n){return tt=n},u.$watch("infiniteScrollUseDocumentBottom",k),k(u.infiniteScrollUseDocumentBottom),v=function(n){return o!=null&&(/iPad|iPhone|iPod|Mac/.test(navigator.platform)?o.unbind("scroll",s):o.unbind("scroll touchmove",s)),o=n,n!=null?/iPad|iPhone|iPod|Mac/.test(navigator.platform)?o.bind("scroll touchmove",s):o.bind("scroll",s):void 0},v(it),u.infiniteScrollListenForEvent&&(a=n.$on(u.infiniteScrollListenForEvent,s)),p=function(n){if(n!=null&&n.length!==0){if(n instanceof HTMLElement?n=angular.element(n):typeof n.append=="function"?n=angular.element(n[n.length-1]):typeof n=="string"&&(n=angular.element(document.querySelector(n))),n!=null)return v(n);throw new Exception("invalid infinite-scroll-container attribute.");}},u.$watch("infiniteScrollContainer",p),p(u.infiniteScrollContainer||[]),e.infiniteScrollParent!=null&&v(angular.element(f.parent())),e.infiniteScrollImmediateCheck!=null&&(d=u.$eval(e.infiniteScrollImmediateCheck)),i(function(){if(d)return s()},0,1)}}}])}).call(this);